 Product Requirements Document

## 不動産購入支援アプリ

*Property Purchase Evaluation Tool*

Version 1.0 | MVP | 2025年2月

---

## 1. プロダクトビジョン

不動産購入は人生で最大の買い物の一つであるにもかかわらず、物件の「検索」を支援するサービスは数多く存在する一方で、自分自身の資金計画やライフプランに基づいて物件の「評価」を一貫した基準で行えるツールは存在しない。

本プロダクトは、ユーザーが自分だけの評価基準（閾値・重み付け）を事前に定義し、任意の物件をその基準でルールベースに採点することで、感覚や都度のAI回答に振り回されることなく、一貫した意思決定を可能にする個人ツールである。

---

## 2. 課題定義

### 2.1 現状の課題

| #    | 課題                     | 詳細                                                         |
| ---- | ------------------------ | ------------------------------------------------------------ |
| 1    | 評価基準が属人的         | 物件を見るたびにAIに聞いたり、感覚で判断するため、評価がぶれる。過去に見た物件との比較も困難。 |
| 2    | 資金計画との整合性が不明 | 物件価格だけを見て判断しがちで、返済比率や金利上昇リスクを体系的に評価できていない。 |
| 3    | 自分の条件を保存できない | 収入・自己資金・希望条件を毎回入力し直す必要があり、都度AIに伝える手間とばらつきが生じる。 |
| 4    | 売却可能性の評価が困難   | 将来の出口戦略（売却可能性）を定量的に評価する手段がなく、感覚に頼っている。 |

### 2.2 解決アプローチ

ルールベースのスコアリングエンジンにより、ユーザーが定義した評価基準（閾値・重み付け）に基づいて物件を自動採点する。AIの回答のように毎回結果がぶれることがなく、同一基準での一貫した比較評価を実現する。

---

## 3. ターゲットユーザー

MVP段階では開発者自身を唯一のユーザーとする。不動産購入を検討中で、複数物件を資金計画に基づいて比較検討したいと考えている個人。論理的・定量的に意思決定をしたいが、都度AIに質問する方法ではばらつきに不満を感じている。

---

## 4. MVP機能要件

### 4.1 機能一覧

| #    | 機能                   | 概要                                                         |
| ---- | ---------------------- | ------------------------------------------------------------ |
| F1   | プロフィール登録・編集 | 手取り月収, 自己資金, 想定金利, 返済期間, 希望エリア, 最低面積, 許容築年数, 想定保有期間を登録・更新 |
| F2   | 評価ルール設定         | 各評価指標に対する閾値とスコア換算ルールを定義。例：返済比率20%以下→100点, 25%以下→80点 |
| F3   | カテゴリ重み付け設定   | 資金計画・売却可能性・建物スペックの3カテゴリに対して重みを設定（例：50/30/20） |
| F4   | 物件情報登録（手入力） | 物件名, 価格, 面積, 築年数, 構造, 駅距離, エリア人口動態などを手動で入力し登録 |
| F5   | 自動スコアリング       | 登録された物件をプロフィールと評価ルールに基づきルールベースで自動採点。カテゴリ別スコア＋加重総合スコアを算出 |
| F6   | 物件一覧・比較         | 登録済み物件をスコア順に一覧表示し、複数物件のカテゴリ別スコアを並べて比較 |

### 4.2 評価モデル詳細

#### カテゴリA: 資金計画との整合性（デフォルト重み: 50%）

- 返済比率（月々返済額 ÷ 手取り月収）
- 自己資金比率（自己資金 ÷ 物件価格）
- 金利上昇耐性（金利+1%時の返済比率）

#### カテゴリB: 売却可能性（デフォルト重み: 30%）

- 駅からの距離
- エリアの人口動態（増加/横ばい/減少）
- 売却時残耐用年数（構造別法定耐用年数 − 売却時築年数）

#### カテゴリC: 建物スペック（デフォルト重み: 20%）

- 広さ（㎡）
- 構造（木造/軽量鉄骨/重量鉄骨/RC/SRC）
- 築年数

#### スコア算出ロジック

各指標は0〜100点で採点される。閾値はユーザーが自由に設定できる。

**カテゴリスコア** = カテゴリ内の各指標スコアの平均

**総合スコア** = Σ（カテゴリスコア × カテゴリ重み）

### 4.3 スコアリングルール例（返済比率）

| 返済比率       | スコア |
| -------------- | ------ |
| 20%以下        | 100点  |
| 20%超〜25%以下 | 80点   |
| 25%超〜30%以下 | 60点   |
| 30%超〜35%以下 | 40点   |
| 35%超          | 20点   |

---

## 5. MVPスコープ外（将来フェーズ）

| #    | 機能                              | 理由                                                         |
| ---- | --------------------------------- | ------------------------------------------------------------ |
| 1    | URL貼り付けによる物件情報自動抽出 | SUUMOやHOME'Sのスクレイピングが必要。MVP後にサイト別パーサーを段階的に実装 |
| 2    | AI判定・コメント生成              | ルールベース評価が本質的な価値。AIコメントは補助的な付加価値として後から追加 |
| 3    | ユーザー認証・マルチテナント      | MVPは自分専用。他ユーザー対応はプロダクト検証後              |
| 4    | エリア相場データ自動取得          | 外部データソースとの連携が必要。MVPではエリア評価は手入力の定性データで代替 |

---

## 6. 技術スタック

| レイヤー       | 技術                                            |
| -------------- | ----------------------------------------------- |
| フロントエンド | Next.js（TypeScript）+ Tailwind CSS + shadcn/ui |
| バックエンド   | Go                                              |
| データベース   | PostgreSQL                                      |
| 対応デバイス   | レスポンシブWeb（スマホ / タブレット / PC）     |

---

## 7. 成功指標

MVP段階では定量的KPIよりも、以下の定性的な成功基準で判断する。

- 物件を見つけた際に、このツールを最初に開いて評価する習慣がつくか
- スコアに基づいて物件の取捨選択ができるか（都度AIに聞かなくなるか）
- 複数物件を並べたときに、自分の優先度が明確に反映されたランキングになるか

---

## 8. データモデル概要

| エンティティ     | 主要フィールド                                               |
| ---------------- | ------------------------------------------------------------ |
| Profile          | 手取り月収, 自己資金, 想定金利, 返済期間, 希望エリア, 最低面積, 許容築年数, 想定保有期間 |
| ScoringRule      | カテゴリ, 指標名, 閾値リスト（lower, upper, score）, カテゴリ重み |
| Property         | 物件名, 価格, 面積, 築年数, 構造, 駅距離, エリア人口動態, メモ |
| EvaluationResult | 物件ID, 各指標スコア, カテゴリ別スコア, 総合スコア, 評価日時 |

---

## 9. ユーザーフロー

**初回利用：**

1. プロフィール登録（収入・資金情報、希望条件）
2. 評価ルール設定（各指標の閾値とスコア、カテゴリ重み付け）
3. 完了 → 物件登録へ

**日常利用：**

1. 気になる物件を見つけたら物件情報を手入力で登録
2. 自動でスコアリングが実行され、カテゴリ別スコア＋総合スコアが表示
3. 物件一覧で過去に登録した物件とスコアを比較
4. 必要に応じて評価ルールやプロフィールを調整